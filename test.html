<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hover Decrypt Example</title>
  <style>
    .js-circle {
      position: absolute;
      width: 100px;
      height: 100px;
      background-color: rgba(0, 0, 0, 0.2);
      border-radius: 50%;
      pointer-events: none;
    }
    span {
      font-size: 18px;
      transition: all 0.1s ease-in-out;
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="decrypted-text"></div>
    <div class="js-circle"></div>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    var text = "James-X is known as the Unbreakable Wall, a true master of strategy and card games. His walls are nearly impossible to breach, and he dominates any game he plays. Beware, for when James-X is around, there's no way through. A legend in the making.";

    var randoms = "asdfghjklöäq1234567890QWERTZUIOPASDFGHJKLYXCVBNM,.-;:_wertzuiopüyxcvbnm,!§$%&/()=";
    var randoms = randoms.split("");

    var mouseX, mouseY;
    var circle = $('.js-circle');

    text = text.split('');

    $.each(text, function(i) {
      if(text[i] == " ") {
        $('#decrypted-text').append(' ');    
      } else {
        $('#decrypted-text').append('<span data-mouse-distance="0" data-o-char="' + text[i] + '" data-char="' + text[i] + '">'+ 'x' +'</span>');
      }
    });

    var $spans = $('span');

    function calculateDistance(elem) {
      return Math.floor(Math.sqrt(Math.pow(mouseX - (elem.offset().left+(elem.width()/2)), 2) + Math.pow(mouseY - (elem.offset().top+(elem.height()/2)), 2)));
    }

    $(document).mousemove(function(e) {  
      mouseX = e.pageX;
      mouseY = e.pageY;
      $(circle).css({left:mouseX-50, top:mouseY-50});
    });

    function encrypt() {  
      $.each($($spans), function() {
        distance = calculateDistance($(this));
        $(this).attr("data-mouse-distance", distance);
        if(distance > 50) { 
          $(this).html(randoms[Math.round(Math.random() * (randoms.length - 1))]);
        } else {
          $(this).html($(this).data("o-char"));        
        }
      });
      setTimeout(encrypt, 100);
    };  

    setTimeout(encrypt, 100);
  </script>
</body>
</html>
